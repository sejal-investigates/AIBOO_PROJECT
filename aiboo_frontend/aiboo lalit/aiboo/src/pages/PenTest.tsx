import { Card, CardContent, CardHeader, CardTitle } from "@/components/ui/card";
import { Badge } from "@/components/ui/badge";
import { CyberButton } from "@/components/ui/cyber-button";
import { 
  Bug, 
  Terminal, 
  Shield, 
  Zap, 
  FileText,
  Play,
  Download,
  AlertCircle
} from "lucide-react";

const PenTest = () => {
  const tools = [
    { name: "Nmap Scanner", status: "ready", description: "Network discovery and security auditing" },
    { name: "Metasploit", status: "active", description: "Exploit framework and testing platform" },
    { name: "Burp Suite", status: "ready", description: "Web application security testing" },
    { name: "OWASP ZAP", status: "ready", description: "Web app vulnerability scanner" },
    { name: "Wireshark", status: "ready", description: "Network protocol analyzer" },
    { name: "Nikto", status: "running", description: "Web server vulnerability scanner" }
  ];

  const testResults = [
    { id: 1, target: "192.168.1.100", vulnerability: "SQL Injection", severity: "High", status: "Found" },
    { id: 2, target: "api.company.com", vulnerability: "XSS Vulnerability", severity: "Medium", status: "Found" },
    { id: 3, target: "192.168.1.102", vulnerability: "Open Ports", severity: "Low", status: "Found" },
    { id: 4, target: "mail.company.com", vulnerability: "SSL/TLS Issues", severity: "Medium", status: "Found" }
  ];

  return (
    <div className="space-y-6">
      {/* Header */}
      <div className="flex items-center justify-between">
        <div>
          <h1 className="text-3xl font-bold bg-gradient-to-r from-primary to-cyber-purple bg-clip-text text-transparent matrix-text">
            Penetration Testing Center
          </h1>
          <p className="text-muted-foreground mt-1">Ethical hacking workspace for security assessment</p>
        </div>
        <div className="flex space-x-3">
          <CyberButton variant="cyber" size="sm">
            <Play className="w-4 h-4 mr-2" />
            Run Test Suite
          </CyberButton>
          <CyberButton variant="neon" size="sm">
            <FileText className="w-4 h-4 mr-2" />
            Generate Report
          </CyberButton>
        </div>
      </div>

      {/* Testing Tools */}
      <Card className="cyber-border bg-card/80 backdrop-blur-sm">
        <CardHeader>
          <CardTitle className="flex items-center space-x-2 text-primary">
            <Terminal className="w-5 h-5" />
            <span>Testing Tools</span>
          </CardTitle>
        </CardHeader>
        <CardContent>
          <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
            {tools.map((tool, index) => (
              <div key={index} className="p-4 rounded-lg bg-muted/30 border border-primary/20 hover:bg-muted/40 transition-all duration-300">
                <div className="flex items-center justify-between mb-2">
                  <h3 className="font-medium text-foreground">{tool.name}</h3>
                  <Badge 
                    className={
                      tool.status === "active" || tool.status === "running" 
                        ? "bg-success/20 text-success border-success/30" 
                        : "bg-muted text-muted-foreground"
                    }
                  >
                    {tool.status}
                  </Badge>
                </div>
                <p className="text-sm text-muted-foreground mb-3">{tool.description}</p>
                <CyberButton variant="outline" size="sm" className="w-full">
                  <Bug className="w-3 h-3 mr-2" />
                  Launch Tool
                </CyberButton>
              </div>
            ))}
          </div>
        </CardContent>
      </Card>

      <div className="grid grid-cols-1 lg:grid-cols-2 gap-6">
        {/* Vulnerability Scan Results */}
        <Card className="cyber-border bg-card/80 backdrop-blur-sm">
          <CardHeader>
            <CardTitle className="flex items-center space-x-2 text-destructive">
              <AlertCircle className="w-5 h-5" />
              <span>Vulnerability Scan Results</span>
            </CardTitle>
          </CardHeader>
          <CardContent>
            <div className="space-y-4">
              {testResults.map((result) => (
                <div key={result.id} className="p-3 rounded-lg bg-muted/30 border border-primary/20">
                  <div className="flex items-center justify-between mb-2">
                    <div className="flex items-center space-x-2">
                      <Badge 
                        variant={result.severity === "High" ? "destructive" : result.severity === "Medium" ? "secondary" : "outline"}
                        className="text-xs"
                      >
                        {result.severity}
                      </Badge>
                      <span className="text-sm font-medium">{result.vulnerability}</span>
                    </div>
                    <Badge className="bg-destructive/20 text-destructive border-destructive/30 text-xs">
                      {result.status}
                    </Badge>
                  </div>
                  <p className="text-xs text-muted-foreground font-mono">{result.target}</p>
                </div>
              ))}
            </div>
          </CardContent>
        </Card>

        {/* Sandboxed Environment */}
        <Card className="cyber-border bg-card/80 backdrop-blur-sm">
          <CardHeader>
            <CardTitle className="flex items-center space-x-2 text-warning">
              <Shield className="w-5 h-5" />
              <span>Sandboxed Testing Environment</span>
            </CardTitle>
          </CardHeader>
          <CardContent className="space-y-4">
            <div className="aspect-video bg-muted/30 rounded-lg relative overflow-hidden cyber-border">
              <div className="absolute inset-0 flex items-center justify-center">
                <div className="text-center space-y-4">
                  <Terminal className="w-16 h-16 text-primary mx-auto animate-pulse-glow" />
                  <p className="text-muted-foreground">Secure Testing Terminal</p>
                  <p className="text-sm text-muted-foreground">Isolated environment for safe exploit testing</p>
                </div>
              </div>
              
              {/* Animated terminal cursor */}
              <div className="absolute bottom-4 left-4 flex items-center space-x-1">
                <span className="text-xs text-success font-mono">root@sandbox:~$</span>
                <div className="w-2 h-4 bg-success animate-pulse" />
              </div>
            </div>
            
            <div className="flex space-x-2">
              <CyberButton variant="cyber" size="sm" className="flex-1">
                <Terminal className="w-3 h-3 mr-2" />
                Open Terminal
              </CyberButton>
              <CyberButton variant="outline" size="sm">
                <Download className="w-3 h-3" />
              </CyberButton>
            </div>
          </CardContent>
        </Card>
      </div>

      {/* Test Execution Panel */}
      <Card className="cyber-border bg-card/80 backdrop-blur-sm">
        <CardHeader>
          <CardTitle className="flex items-center space-x-2 text-accent">
            <Zap className="w-5 h-5" />
            <span>Test Execution Panel</span>
          </CardTitle>
        </CardHeader>
        <CardContent>
          <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
            <CyberButton variant="hologram" className="h-20 flex-col space-y-2">
              <Bug className="w-6 h-6" />
              <span className="text-sm">Vulnerability Scan</span>
            </CyberButton>
            <CyberButton variant="hologram" className="h-20 flex-col space-y-2">
              <Shield className="w-6 h-6" />
              <span className="text-sm">Exploit Testing</span>
            </CyberButton>
            <CyberButton variant="hologram" className="h-20 flex-col space-y-2">
              <FileText className="w-6 h-6" />
              <span className="text-sm">Report Generation</span>
            </CyberButton>
          </div>
        </CardContent>
      </Card>
    </div>
  );
};

export default PenTest;